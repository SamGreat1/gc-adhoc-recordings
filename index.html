<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
    <link rel="shortcut icon" href="/favicon.ico">
    <!-- <link href="node_modules/jquery-toast-plugin/dist/jquery.toast.min.css" rel="stylesheet"> -->
    <link href="static/css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

    <title>GC Recorder</title>
</head>

<body>


    <noscript>You need to enable JavaScript to run this app.</noscript>
    <script src="https://sdk-cdn.mypurecloud.com/javascript/61.0.0/purecloud-platform-client-v2.min.js"></script>
    <script src="node_modules/jquery-toast-plugin/dist/jquery.toast.min.js"></script>
    <script src="static/js/purecloud.js"></script>
    <script src="static/js/notifications.js"></script>

<center>
        <div>
            <br>
            <button type="button" id="send" class="btn btn-info" disabled>Start Recording</button>
            <button type="button" id="cancel" class="btn btn-info" disabled>Stop Recording</button>
            <button type="button" id="save" class="btn btn-info" disabled>Save Recording</button>
   
        <br>
    </div>
</center>
    <script>        

        $("#send").click(() => {                           
            triggerRecording(true).then(async (requests) => {
                    console.log('success');

                }).catch((err) => {
                    console.error("Failed to call API");                    
                    //showMessage(err, true);
                });

        });

        $("#cancel").click(() => {
            triggerRecording(false).then(async (requests) => {
                    console.log('success');
                    document.getElementById("save").disabled = false;
                }).catch((err) => {
                    console.error("Failed to call API");                    
                    //showMessage(err, true);
                });

        });

        $("#save").click(() => {
            console.log('Saving the recording');
            saveRecording().then(async (requests) => {
                    console.log('success');                   
                }).catch((err) => {
                    console.error("Failed to call API");                    
                    //showMessage(err, true);
                });

        });
    </script>



</body>

</html>